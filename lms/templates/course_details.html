

<!-- course_detail.html -->
<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ course.title }} - Course Details</title>
    <link rel="stylesheet" href="{% static 'css/course_details.css' %}">
</head>
<body>

    <div class="container">
        <!-- Sidebar with Lessons -->
        <div class="sidebar">
            <h3>Lessons</h3>
            <ul>
                {% for lesson in lessons %}
                    <li>
                        <a href="#" onclick="loadLesson('{{lesson.lesson_id}}')" class="{% if lesson == initial_lesson %}active{% endif %}">
                            {{ lesson.position }}. {{ lesson.lesson_title }}
                        </a>
                    </li>
                {% endfor %}
            </ul>
        </div>
    
        <!-- Main Content Area -->
        <div class="content">
            <div id="lesson-container">
                <h2 id="lesson-title">{{ initial_lesson.lesson_title }}</h2>
                <video id="lesson-video" width="100%" controls>
                    <source src="{{ initial_lesson.video_url }}" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                <p id="lesson-description">{{ initial_lesson.lesson_description }}</p>
            </div>
        </div>
    </div>
    
    <script>
        // JavaScript to dynamically load lesson content
        function loadLesson(lessonId) {
            fetch(`/get_lesson/${lessonId}`)
                .then(response => response.json())
                .then(data => {
                    document.getElementById('lesson-title').innerText = data.title;
                    document.getElementById('lesson-video').src = data.video_url;
                    document.getElementById('lesson-description').innerText = data.description;
                });
        }
    </script>
    
    </body> 
</html>
