<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Courses</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/courses_my.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400..700&family=Oxygen:wght@300;400;700&family=Quicksand:wght@300..700&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
</head>
<body>

    <nav class="navbar">
        <ul class="nav-left">
            <li>
                <div class="tag_name">
                    <a href="/">Home</a>
                </div>
            </li>
            <li class="dropdown tag_name">
                <a href="/courses" class="dropbtn">Courses</a>
                <div class="dropdown-content">
                    <a href="/my_courses">My Courses</a>
                    <a href="/courses">Explore</a>
                </div>
            </li>
            <li>
                <div class="tag_name">
                    <a href="/discussion">Discussion</a>
                </div>
            </li>
        </ul>

        <ul class="nav-right">


            <!-- Show based on user authentication status -->
            {% if user.is_authenticated %}
                <!-- Profile Dropdown for Logged-in User -->
                <li class="profile-dropdown">
                    <div class="profile-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="dropdown-content-profile">
                        <div class="tag_name">
                            <a href="/profile">My Profile</a>
                        </div>
                        <div class="tag_name">
                            <a href="{% url 'logout' %}?next={{ request.path }}">Logout</a>
                        </div>
                        <div class="tag_name">
                            <a href="#">Notifications</a>
                        </div>
                    </div>
                </li>
            {% else %}
                <!-- Login and Register Buttons for Guest Users -->
                <li>
                    <div class="tag_name">
                        <a href="/login">Login</a>
                    </div>
                </li>
                <li>
                    <div class="tag_name">
                        <a href="/register">Register</a>
                    </div>
                </li>
            {% endif %}
        </ul>
    </nav>

    
    <section class="content">
        <h2 class="head">My Courses</h2>
        <div class="about_courses">
            <!-- {% for enrollment in enrollments %}
            <div class="course_names">
                <div class="intro_image" style="background-image: url('{{ enrollment.course.image_url }}');">
                </div>
                <div class="course_details">
                    <h3>{{ enrollment.course.course_name }}</h3>
                    <p>{{ enrollment.course.course_description }}</p>
                    <a href="{% url 'course_details' enrollment.course.course_id %}" class="Explore">Continue Learning</a>
                 
                </div>
            </div>
            {% empty %}
            <p>No courses enrolled yet.</p>
            {% endfor %} -->
            {% for data in progress_data %}
            <div class="course_names">
                <div class="intro_image" style="background-image: url('{{ data.course.image_url }}');">
                </div>
                <div class="course_details">
                    <h3 class="name">{{ data.course.course_name }}</h3>
                    <p>{{ data.course.course_description }}</p>
                    <a href="{% url 'course_details' data.course.course_id %}" class="Explore">Continue Learning</a>

                    <!-- Progress Bar -->
                    <div class="progress-container">
                        <div class="progress-bar" style="width: {{ data.progress_percentage }}%;">
                            {{ data.progress_percentage|floatformat:1 }}%
                        </div>
                    </div>
                </div>
            </div>
            {% empty %}
            <p>No courses enrolled yet.</p>
            {% endfor %}
        </div>
    </section>
</body>
</html>
